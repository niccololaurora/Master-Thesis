\documentclass{standalone}
\usepackage{tikz}
\usepackage{quantikz}

\begin{document}

\begin{quantikz}
    \lstick{$\ket{0}$}&
    \gate[4,style={fill=red!30},disable auto height]{\textsc{$U_1(x)$}}\gategroup[4,steps=2,style={inner
    sep=6pt}]{L(1)} &
    \gate[4,style={fill=yellow!30},disable auto height]{\textsc{$U(\theta_1)$}} & &
    \gate[4,style={fill=red!30},disable auto height]{\textsc{$U_2(x)$}}\gategroup[4,steps=2,style={inner
    sep=6pt}]{L(2)} &
    \gate[4,style={fill=yellow!30},disable auto height]{\textsc{$U(\theta_2)$}} &\\
    \lstick{$\ket{0}$} & & & & & & \\
    \lstick{$\ket{0}$} & & & & & & \\
    \lstick{$\ket{0}$} & & & & & &
\end{quantikz}


\end{document}